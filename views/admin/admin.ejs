<!-- Default home page -->
<link type="text/css" href='http://sailsjs.org/styles/fonts.css' rel='stylesheet'/>
<style>
    /* Styles included inline since you'll probably be deleting this page anyway */
    html,body{ text-align:left;font-size:1em}html,body,img,form,textarea,input,fieldset,div,p,div,ul,li,ol,dl,dt,dd,h1,h2,h3,h4,h5,h6,pre,code{margin:0;padding:0}ul,li{list-style:none}img{display:block}a img{border:0}a{text-decoration:none;font-weight:normal;font-family:inherit}*:active,*:focus{outline:0;-moz-outline-style:none}
    h1,h2,h3,h4,h5,h6{font-weight:normal}div.clear{clear:both}.clearfix:after{clear:both;content:".";display:block;font-size:0;height:0;line-height:0;visibility:hidden}body{font-family:"Open Sans",Arial,sans-serif;font-weight:300;}.top-bar {width: 100%; background-color: #e4f0f1; padding: 15px 0;}.top-bar .container img {float: left;}.top-bar .container ul {float: right; padding-top: 25px;}.top-bar .container li {float: left; width: 125px; text-align: center; font-size: 15px; color:#000; font-weight: 600;}.top-bar .container a li:hover {color: #118798; -webkit-transition:color 200ms; -moz-transition:color 200ms; -o-transition:color 200ms;transition:color 200ms;}.container{width: 80%; max-width: 1200px; margin: auto;}div.header {-webkit-transition: 6s; -moz-transition: 6s; -o-transition: 6s;transition: 6s; background: rgba(4, 36, 41, 0.89) url(http://sailsjs.org/images/img_sailsShadow.png) no-repeat 42% bottom; padding: 100px 0 65px;}.header h1#main-title{color: #fff; font-weight: 300; font-size: 2.5em;}.header h3{color: #b1eef7; font-style: italic; font-weight: 300;}.header h3 code{font-style: normal!important; background-color: rgba(255,255,255,0.5); font-weight: 300; color:#0e6471; margin: 0px 5px;}div.main.container{padding: 50px 0;}h1 {color: #FFF; font-weight: 300;}code {font-size: inherit; font-family: 'Consolas', 'Monaco', monospace; padding:4px 5px 1px; background-color: #f3f5f7}a{color: #118798; font-weight: 300; text-decoration: underline;}a:hover {color: #0e6471; -webkit-transition:color 200ms; -moz-transition:color 200ms; -o-transition:color 200ms;transition:color 200ms;}p{line-height: 1.5em;}blockquote{background-color: #e4f0f1; padding: 25px; line-height: 1.5em; margin: 15px 0;}blockquote span{font-weight: 600; padding-right: 5px;}ul.getting-started{padding: 25px 75px 25px 0; width: 70%; float: left; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box;}ul.getting-started li{padding: 25px 0;}ul.getting-started li h3 {padding-bottom: 10px; font-size: 25px; font-weight: 300;}.sprite{background:url(http://sailsjs.org/images/newapp.sprite.png) no-repeat; position: absolute; left: 0; top:0;}.getting-started .sprite{margin-left:10px;padding-left:60px;height:42px;width:0; float: left;}.getting-started .one{background-position:0 0}.getting-started .two{background-position:0 -42px}.getting-started .three{background-position:0 -83px}div.step {position: relative; padding-left: 70px; opacity: 0.9;}div.step:hover{ opacity: 1;}div.links {float: left; width: 30%; max-width: 325px; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; background-color: #f3f5f7; border: 1px solid #ebebeb; padding: 25px 45px 35px;}div.links h3 {color: #727272; text-align: center; font-size: 28px; font-weight: 300;}div.links h4 {color: #727272; font-size: 17px; font-weight: 600; padding: 15px 0 10px;}div.links .link-list a {text-decoration: none; font-weight: 400;}div.links .link-list a li {padding: 0px 0px 5px 10px;}div.default-page{min-width: 1200px;}.pocket{display:none;}
    .center{ width: 768px; margin: auto; }
    .logut{ float: right; padding: 20px; }
    .logut a{ color: #333;}
    input{ line-height: 21px; padding: 0 5px; font-size: 14px;}
    .hide{ display:none; }
    .tab{ line-height: 21px;
        cursor: pointer;
        margin: 20px 0 0 0;
        border: 1px solid #ccc;
        display: block; float: left;
        color: #333;
        padding: 15px; border-bottom: 0!important;}
    .tab.active:hover,.tab:hover{ color: #000;  background-color: #ccc;}
    .tab.active{  text-decoration: underline; background-color: #eee;}
    i.clear{ display: block; height: 0; clear: both;}
    .fr{float: right;}
    .users, .clients, .catalog{ padding: 20px; border: 1px solid #ccc; }
    .greyTab, form{ padding: 20px; display: block; background: #e2e2e2}
    h2{ margin: 20px 0}
    .line{ padding: 10px 0}
    ul{ display: block; margin-top: 15px; }
    ul li{ list-style-type: decimal; margin-left: 20px;}
    li i{ font-size: 10px; text-decoration: underline; cursor: pointer; font-style: normal; }
    i.splitline{ border-bottom: 1px solid #ccc; height: 0; display: block; margin: 10px;}
    button{ line-height: 19px; font-size: 14px; cursor: pointer; }
    .smallWarn{ text-decoration: underline; cursor: pointer; color: red; font-size: 10px;}
</style>
<script type="text/javascript">
setTimeout(function sunrise () {
    document.getElementsByClassName('header')[0].style.backgroundColor = '#118798';
}, 0);
</script>
<div class="wrapper" ng-app="iidentic" ng-controller="admin">
    <div class="header">
        <div class="center">
            <h1>Настройки клиентов и пользователей.</h1>
        </div>
    </div>
    <div class="logut"><a href="/logout">logout</a></div>
    <div class="center">
        <div>
            <div class="tab active">Пользователи</div>
            <div class="tab">Клиенты</div>
            <div class="tab">Каталог</div>
            <i class="clear"></i>
        </div>
        <div class="users hide)">
            <div class="addTab">
                <h2>Добавление пользователя:</h2>
                <form role="form" action="/auth/local/register" method="post">
                    <div class="line">
                        <input type="text" name="username" placeholder="Username">
                        <input type="text" name="email" placeholder="Email">
                        <input type="password" name="password" placeholder="Password">
                    </div>
                    <div class="line">
                        <label for="type">Тип пользователя</label>
                        <select name="type" id="type">
                            <option value="registred">обычный</option>
                            <option value="admin">админ</option>
                        </select>
                        <label for="active">Статус:</label>
                        <select name="active" id="active">
                            <option value="true">активный</option>
                            <option value="false">выключен</option>
                        </select>
                        <select name="client" id="client">
                            <option value="client1">client1</option>
                        </select>
                    </div>
                    <br/>
                    <button type="submit">Добавить</button>
                </form>
            </div>
            <div class="viewTab">
                <h2>Список пользователей</h2>
                <table width="100%">
                    <tr>
                        <th>Имя</th>
                        <th>почта</th>
                        <th>тип</th>
                        <th>активный</th>
                        <th>клиент</th>
                    </tr>
                    <% for(var i=0,l=users.length; i<l; i++){ var user = users[i]; %>
                    <tr>
                        <td><%= user.username %></td>
                        <td><%= user.email %></td>
                        <td><%= user.type %></td>
                        <td><%= user.active %></td>
                        <td> - </td>
                    </tr>
                    <%}%>

                </table>
            </div>

    <!--            Congratulation, you are registred! <br/>
                <p>
                    Username: <br/>
                    Email:
                </p>-->
        </div>
        <div class="clients hide">

        </div>
        <div class="catalog">
            <span class="fr smallWarn" ng-click="restoreBack()">Восстановить данные по умолчанию (все затрет!)</span>
            <h2>Каталог ресурсов:</h2>
        <div class="greyTab">
                <div class="line">
                    <h4>Доступные категории:</h4>
                    <ul>
                        <li ng-repeat="form in forms track by $index">{{form.descr}}  <i ng-click="deleteForm( form )">удалить</i></li>
<!--                        <li>Визитные карточки <i>удалить</i></li>
                        <li>Бланки <i>удалить</i></li>
                        <li>Папки <i>удалить</i></li>-->
                    </ul>
                </div>
                <input type="text" name="descr" placeholder="Название категории" ng-model="formName" my-enter="addForm(formName)">
                <button ng-click="addForm(formName)">Добавить</button>
                <i class="splitline"></i>
                <div class="line">
                    <h4>Доступные типы:</h4>
                    <label for="type">В категории:</label>
                    <select name="form" id="form"
                            ng-options="form.descr for form in forms track by form.name"
                            ng-model="selectedOption"></select>

                    <ul>
                        <li ng-repeat="type in selectedOption.types track by $index">{{type}}  <i ng-click="delete(selectedOption, type)">удалить</i></li>
                    </ul>
                </div>
                <div class="line">
                    <label for="type">Новый тип:</label>
                    <input type="text" id="type" name="descr" placeholder="Название типа" ng-model="typeName" my-enter="addType(selectedOption, typeName)"/>
                    <button ng-click="addType(selectedOption, typeName)">Добавить</button>
                </div>

            <button class="fr" ng-click="save('zzz')">Сохранить</button>
            <i class="clear"></i>
            </div>
        </div>

    </div>
</div>
<script type="text/javascript" src="/js/admin.js"></script>